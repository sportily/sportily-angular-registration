{"version":3,"sources":["sportily.registration.all.js"],"names":["angular","module","call","this","NO_VALID_ROLES_MESSAGE","controller","$scope","$q","Form","AgeGroups","Competitions","Members","People","Roles","Seasons","Teams","Types","Users","fetchAgeGroups","fetchCompetitions","fetchMember","fetchSeasons","fetchTeams","roleIsValid","saveMember","savePerson","saveRoles","saveUser","verifyRoles","user","person","marketing_opt_in","roles","type","complete","types","typeOptions","_","filter","t","name","organisationId","map","value","key","label","index","sortBy","state","agreement","dateOfBirth","selectedSeason","addRole","push","removeRole","toBeRemoved","role","rule","competition_id","requiresTeam","team_id","some","save","isValid","then","member","season","error","find","seasons","_this","s","id","confirmationMessage","replace","showErrors","getList","organisation_id","status","one","member_id","get","season_id","include","competitions","ageGroups","teams","email","post","when","user_id","person_id","reduce","p","resolve","$watch","dob","input","output","Date","moment","date_of_birth","format","form","$setValidity","directive","restrict","templateUrl","scope","agreementMessage","StripeService","Organisations","PaymentService","arePaymentsPossible","getNationalId","getTotal","financial_summary","owed","total","nationalId","orgs","organisations","Object","getOwnPropertyNames","forEach","prop","paymentsConfigured","nationalOrganisation","stripe_user_id","message","template","pay","getOneTimeToken","stripeToken","take","payment","team","data","currencyFilter","String","prototype","ucfirst","charAt","toUpperCase","slice","require","model","link","element","attrs","ngModel","each","$error","startsWith","transclude","ctrl","displayLabel","factory","$window","response","scrollTo","error_description","validation_messages","errors","$valid","reject","StripePublishableKey","amount","deferred","handler","options","defer","StripeCheckout","configure","allowRememberMe","token","args","closed","description","zipCode","currency","open","promise","Transactions","Payments","getNational","getRegionals","national","regions","nationalPromise","promises","region","source_id","target_id","target_organisation_id","method","all","transactions","stripe_payment_token","transaction_ids","transaction","constant","player","coach","manager","official","committee","referee","timekeeper","player_training","player_recreational","player_cross_registration","parent","run","$templateCache","put"],"mappings":"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","file":"sportily.registration.min.js"}