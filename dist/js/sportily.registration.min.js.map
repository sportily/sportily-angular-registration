{"version":3,"sources":["sportily.registration.all.js"],"names":["angular","module","call","this","NO_VALID_ROLES_MESSAGE","controller","$scope","$q","Form","AgeGroups","Competitions","Members","People","Roles","Seasons","Teams","Types","Users","fetchAgeGroups","fetchCompetitions","fetchMember","fetchSeasons","fetchTeams","roleIsValid","saveMember","savePerson","saveRoles","saveUser","verifyRoles","user","person","marketing_opt_in","roles","type","complete","types","typeOptions","_","map","value","key","label","name","index","sortBy","state","agreement","dateOfBirth","selectedSeason","addRole","push","removeRole","toBeRemoved","filter","role","rule","competition_id","requiresTeam","team_id","some","save","isValid","then","member","season","error","find","seasons","_this","s","id","confirmationMessage","replace","showErrors","getList","organisation_id","organisationId","status","one","member_id","get","season_id","include","competitions","ageGroups","teams","email","post","when","user_id","person_id","reduce","p","resolve","$watch","dob","input","output","Date","moment","date_of_birth","format","form","$setValidity","directive","restrict","templateUrl","scope","agreementMessage","StripeService","Organisations","PaymentService","arePaymentsPossible","getNationalId","getTotal","financial_summary","owed","total","nationalId","orgs","organisations","Object","getOwnPropertyNames","forEach","prop","paymentsConfigured","nationalOrganisation","stripe_user_id","message","template","pay","getOneTimeToken","stripeToken","take","payment","team","data","currencyFilter","String","prototype","ucfirst","charAt","toUpperCase","slice","require","model","link","element","attrs","ngModel","each","$error","startsWith","transclude","ctrl","displayLabel","factory","$window","response","scrollTo","error_description","validation_messages","errors","$valid","reject","StripePublishableKey","amount","deferred","handler","options","defer","StripeCheckout","configure","allowRememberMe","token","args","closed","description","zipCode","currency","open","promise","Transactions","Payments","getNational","getRegionals","national","regions","nationalPromise","promises","region","source_id","target_id","target_organisation_id","method","all","transactions","stripe_payment_token","transaction_ids","transaction","constant","player","coach","manager","official","committee","referee","timekeeper","player_training","player_recreational","player_cross_registration","parent","run","$templateCache","put"],"mappings":"CAAA,WAGWA,QAAQC,OAAO,yBAA0B,mCAAoC,kCAAmC,iCAAkC,gCAAiC,kCAAmC,kCAE9NC,KAAKC,MAER,WACE,GAAIC,GAAwBH,CAE5BA,GAASD,QAAQC,OAAO,oCAAqC,eAAgB,8BAA+B,gCAE5GG,EAAyB,yCAEzBH,EAAOI,WAAW,4BAChB,SAAU,KAAM,OAAQ,YAAa,eAAgB,UAAW,SAAU,QAAS,UAAW,QAAS,QAAS,QAAS,SAASC,EAAQC,EAAIC,EAAMC,EAAWC,EAAcC,EAASC,EAAQC,EAAOC,EAASC,EAAOC,EAAOC,GAC1N,GAAIC,GAAgBC,EAAmBC,EAAaC,EAAcC,EAAYC,EAAaC,EAAYC,EAAYC,EAAWC,EAAUC,CA2IxI,OA1IAtB,GAAOuB,QACPvB,EAAOwB,QACLC,kBAAkB,GAEpBzB,EAAO0B,QAEHC,KAAM,OAGV3B,EAAO4B,UAAW,EAClB5B,EAAO6B,MAAQnB,EACfV,EAAO8B,YAAcC,EAAErB,GAAOsB,IAAI,SAASC,EAAOC,GAChD,OACEA,IAAKA,EACLC,MAAOF,EAAMG,KACbC,MAAOJ,EAAMI,SAEdC,OAAO,SAASL,QACnBjC,EAAOuC,OACLC,WAAW,EACXC,YAAa,GACbC,eAAgB,MAElB1C,EAAO2C,QAAU,WACf,MAAO3C,GAAO0B,MAAMkB,MAClBjB,KAAM,QAGV3B,EAAO6C,WAAa,SAASC,GAC3B,MAAO9C,GAAO0B,MAAQ1B,EAAO0B,MAAMqB,OAAO,SAASC,GACjD,MAAOA,KAASF,KAGpB7B,EAAc,SAAS+B,GACrB,GAAIC,EAEJ,OADAA,GAAOvC,EAAMsC,EAAKrB,MACXqB,EAAKE,gBAAkBF,EAAKrB,QAAUsB,EAAKE,cAAgBH,EAAKI,UAEzE9B,EAAc,WAGZ,IADQS,EAAEsB,KAAKrD,EAAO0B,MAAOT,GAE3B,KAAMnB,IAGVE,EAAOsD,KAAO,WACZ,MAAOpD,GAAKqD,QAAQvD,GAAQwD,KAAKlC,GAAakC,KAAKnC,GAAUmC,KAAKrC,GAAYqC,KAAKtC,GAAYsC,KAAKpC,GAAWoC,KAAK1C,GAAa0C,KAAK,SAASC,GAC7I,GAAIC,EASJ,OARA1D,GAAOyD,OAASA,EAChBzD,EAAO4B,UAAW,EAClB5B,EAAO2D,MAAQ,KACfD,EAAS3B,EAAE6B,KAAK5D,EAAO6D,QAAS,SAAUC,GACxC,MAAO,UAASC,GACd,MAAOA,GAAEC,KAAOhE,EAAOuC,MAAMG,oBAG1B1C,EAAOiE,oBAAsBjE,EAAOiE,oBAAoBC,QAAQ,cAAeR,EAAOtB,QACrF,MAAElC,EAAKiE,WAAWnE,KAE9Be,EAAe,WACb,MAAOP,GAAQ4D,SACbC,gBAAmBrE,EAAOsE,iBACzBd,KAAK,SAASK,GACf,MAAO7D,GAAO6D,QAAUA,EAAQd,OAAO,SAASgB,GAC9C,MAAoB,SAAbA,EAAEQ,YAIfzD,EAAc,WACZ,MAAOT,GAAQmE,IAAIxE,EAAOyE,WAAWC,OAEvC7D,EAAoB,WAClB,GAAIkC,EAKJ,OAJAA,IACE4B,UAAW3E,EAAOuC,MAAMG,eACxBkC,QAAS,gBAEJxE,EAAagE,QAAQrB,GAAQS,KAAK,SAASqB,GAChD,MAAO7E,GAAO6E,aAAeA,KAGjCjE,EAAiB,WACf,GAAImC,EAIJ,OAHAA,IACE4B,UAAW3E,EAAOuC,MAAMG,gBAEnBvC,EAAUiE,QAAQrB,GAAQS,KAAK,SAASsB,GAC7C,MAAO9E,GAAO8E,UAAYA,KAG9B9D,EAAa,WACX,GAAI+B,EAIJ,OAHAA,IACE4B,UAAW3E,EAAOuC,MAAMG,gBAEnBjC,EAAM2D,QAAQrB,GAAQS,KAAK,SAASuB,GACzC,MAAO/E,GAAO+E,MAAQA,KAG1B1D,EAAW,WACT,MAAIrB,GAAOuB,KAAKyD,MACPrE,EAAMsE,KAAKjF,EAAOuB,MAElBtB,EAAGiF,MACRlB,GAAI,QAIV7C,EAAa,SAASI,GAEpB,MADAvB,GAAOwB,OAAO2D,QAAU5D,EAAKyC,GACtB1D,EAAO2E,KAAKjF,EAAOwB,SAE5BN,EAAa,SAASM,GAEpB,MADAxB,GAAOyD,OAAO2B,UAAY5D,EAAOwC,GAC1B3D,EAAQ4E,KAAKjF,EAAOyD,SAE7BrC,EAAY,SAASqC,GAEnB,MADAzD,GAAOyE,UAAYhB,EAAOO,GACnBhE,EAAO0B,MAAM2D,OAAO,SAAUvB,GACnC,MAAO,UAASwB,EAAGtC,GAEjB,MADAA,GAAKyB,UAAYhB,EAAOO,GACjBsB,EAAE9B,KAAK,WACZ,MAAOjD,GAAM0E,KAAKjC,SAGd/C,EAAGsF,YAEfxE,IACAf,EAAOwF,OAAO,uBAAwB,SAASvD,GAC7C,GAAIjC,EAAOuC,MAAMG,eAMf,MALA1C,GAAOyD,QACLkB,UAAW3E,EAAOuC,MAAMG,gBAE1B7B,IACAD,IACOI,MAGJhB,EAAOwF,OAAO,oBAAqB,SAASvD,GACjD,GAAIwD,GAAKC,EAAOC,CAchB,IAbAD,EAAQ,aACRC,EAAS,aACTF,EAAM,WACJ,QAAQ,GACN,MAAOxD,YAAiB2D,OACtB,MAAOC,QAAO5D,EAChB,SACE,MAAO4D,QAAO5D,EAAOyD,GAAO,OAG9BD,EAAIlC,YACNvD,EAAOwB,OAAOsE,cAAgBL,EAAIM,OAAOJ,IAEvC3F,EAAOgG,KAAoB,cAC7B,MAAOhG,GAAOgG,KAAoB,cAAEC,aAAa,OAAQR,EAAIlC,iBAMpE3D,KAAKC,MAER,WACE,GAAIF,EAEJA,GAASD,QAAQC,OAAO,sCAExBA,EAAOuG,UAAU,uBAAwB,WACvC,OACEC,SAAU,IACVpG,WAAY,2BACZqG,YAAa,4CACbC,OACE/B,eAAgB,gBAChBgC,iBAAkB,IAClBrC,oBAAqB,QAK3BtE,EAAOuG,UAAU,gBAAiB,SAASjG,EAAIsG,EAAeC,EAAeC,EAAgBpG,GAC3F,GAAIqG,GAAqBC,EAAeC,CAgCxC,OA/BAA,GAAW,SAASnD,GAClB,GAAIA,EAAOoD,kBACT,MAAOpD,GAAOoD,kBAAkBC,KAAKC,OAGzCJ,EAAgB,SAASlD,GACvB,GAAIuD,GAAYC,CAShB,OARAA,GAAO,KACPD,EAAa,KACbC,EAAOxD,EAAOoD,kBAAkBC,KAAKI,cACrCC,OAAOC,oBAAoBH,GAAMI,QAAQ,SAASC,GAChD,GAAwB,aAApBL,EAAKK,GAAM3F,KACb,MAAOqF,GAAaM,IAGjBN,GAETN,EAAsB,SAAS1G,GAC7B,GAAIgH,EAGJ,IAFAA,EAAa,KACbhH,EAAOuH,oBAAqB,EACxBvH,EAAOyD,QAAUzD,EAAOyD,OAAOoD,oBACjCG,EAAaL,EAAc3G,EAAOyD,SAEhC,MAAO+C,GAAchC,IAAIwC,GAAYtC,MAAMlB,KAAK,SAASgE,GAEvD,MADAxH,GAAOwH,qBAAuBA,EACvBxH,EAAOuH,mBAAqBC,EAAqBC,mBAM9DtB,SAAU,IACVE,OACE5C,OAAQ,IACRuB,MAAO,IACP0C,QAAS,KAEXC,SAAU,0HACV5H,WAAY,SAASC,GAGnB,MAFA0G,GAAoB1G,GACpBA,EAAO+G,MAAQH,EAAS5G,EAAOyD,QACxBzD,EAAO4H,IAAM,WAClB,MAAOrB,GAAcsB,gBAAgB7H,EAAO+G,MAAO/G,EAAOgF,OAAOxB,KAAK,SAASsE,GAC7E,MAAOrB,GAAesB,KAAKD,EAAa9H,EAAOyD,UAC9CD,KAAK,SAASwE,GACf,GAAuB,aAAnBA,EAAQzD,OACV,MAAOlE,GAAQmE,IAAIxE,EAAOyD,OAAOO,IAAIU,MAAMlB,KAAK,SAASC,GAEvD,MADAzD,GAAOyD,OAASA,EACTzD,EAAO+G,MAAQH,EAAS5G,EAAOyD,UACrCD,KAAK,WACN,MAAOxD,GAAO0H,SACZ/F,KAAM,UACN+F,QAAS,uCAIP,MAAE,SAAS/D,GACnB,MAAO3D,GAAO0H,SACZ/F,KAAM,SACN+F,QAAS,iCAQpB9H,KAAKC,MAER,WACE,GAAIF,EAEJA,GAASD,QAAQC,OAAO,oCAExBA,EAAOoD,OAAO,kBAAmB,WAC/B,MAAO,UAASgC,EAAOf,GACrB,MAAOjC,GAAEgB,OAAOgC,EAAO,SAASkD,GAC9B,MAAOlG,GAAEsB,KAAK4E,EAAKpD,aAAaqD,MAC9B7D,gBAAiBL,SAMzBrE,EAAOoD,OAAO,iBAAkB,WAC9B,MAAO,UAASgC,EAAOf,GACrB,MAAOjC,GAAEgB,OAAOgC,EAAO,SAASkD,GAC9B,MAAOlG,GAAEsB,KAAK4E,EAAKpD,aAAaqD,MAC9BlE,GAAIA,SAMZrE,EAAOoD,OAAO,QAAS,SAASoF,GAC9B,MAAO,UAASzC,GACd,MAAIA,GACKyC,EAAezC,EAAQ,IAAK,KAE5B,QAKZ9F,KAAKC,MAER,WACE,GAAIF,EAEJA,GAASD,QAAQC,OAAO,kCAExByI,OAAOC,UAAUC,QAAU,WACzB,MAAOzI,MAAK0I,OAAO,GAAGC,cAAgB3I,KAAK4I,MAAM,IAGnD9I,EAAOuG,UAAU,cAAe,WAC9B,OACEC,SAAU,IACVuC,QAAS,WACTrC,OACEsC,MAAO,YAETC,KAAM,SAASvC,EAAOwC,EAASC,EAAOC,GACpC,MAAO1C,GAAMb,OAAO,QAAS,WAC3B,MAAOzD,GAAEiH,KAAKD,EAAQE,OAAQ,SAAShH,EAAOC,GAC5C,GAAIA,EAAIgH,WAAW,eACjB,MAAOH,GAAQ9C,aAAa/D,GAAK,WAQ7CvC,EAAOuG,UAAU,SAAU,WACzB,OACEC,SAAU,IACVuC,SAAU,QAAS,UACnBtC,YAAa,iDAIjBzG,EAAOuG,UAAU,OAAQ,WACvB,OACEC,SAAU,IACVuC,SAAU,QAAS,UACnBS,YAAY,EACZ/C,YAAa,4CACbC,OAAO,EACPuC,KAAM,SAASvC,EAAOwC,EAASC,EAAOM,GAEpC,MADA/C,GAAML,KAAOoD,EAAK,GACX/C,EAAMjE,KAAOgH,EAAK,GAAGhH,WAKlCzC,EAAOuG,UAAU,QAAS,WACxB,OACEC,SAAU,IACVuC,QAAS,QACTS,YAAY,EACZ/C,YAAa,6CACbC,OACEjE,KAAM,IACND,MAAO,KAETyG,KAAM,SAASvC,EAAOwC,EAASC,EAAO9C,GAEpC,MADAK,GAAML,KAAOA,EACNK,EAAMgD,aAAe,WAC1B,OAAQhD,EAAMlE,OACZ,SAAK,GACH,MAAOkE,GAAMjE,KAAKkG,UAAUpE,QAAQ,IAAK,IAC3C,KAAK,QAEL,IAAK,OACH,MAAO,EACT,SACE,MAAOmC,GAAMlE,WAIrBpC,YACE,SAAU,SAASC,GACjBH,KAAKuC,KAAO,WACV,MAAOpC,GAAOoC,MAEhBvC,KAAKsC,MAAQ,WACX,MAAOnC,GAAOmC,YAOxBxC,EAAO2J,QAAQ,OAAQ,SAASC,EAAStJ,GACvC,OACEkE,WAAY,SAASkC,GACnB,MAAO,UAASmD,GAEd,MADAD,GAAQE,SAAS,EAAG,GAChBD,EAAStB,MACX7B,EAAM1C,MAAQ6F,EAAStB,KAAKwB,kBACrB3H,EAAEiH,KAAKQ,EAAStB,KAAKyB,oBAAqB,SAASC,EAAQ1H,GAChE,MAAOH,GAAEiH,KAAKY,EAAQ,SAASjG,GAC7B,MAAO0C,GAAML,KAAK9D,GAAK+D,aAAatC,GAAO,QAIxC0C,EAAM1C,MAAQ6F,IAI3BjG,QAAS,SAAS8C,GAChB,MAAIA,GAAML,KAAK6D,OACN5J,EAAGiF,OAEHjF,EAAG6J,OAAO,sCAMxBlK,KAAKC,MAER,WACE,GAAIF,EAEJA,GAASD,QAAQC,OAAO,qCAExBA,EAAO2J,QAAQ,gBAAiB,SAASrJ,EAAI8J,GAC3C,OACElC,gBAAiB,SAASmC,EAAQhF,GAChC,GAAIiF,GAAUC,EAASC,CAqBvB,OApBAF,GAAWhK,EAAGmK,QACdF,EAAUG,eAAeC,WACvBpI,IAAK6H,EACL3H,KAAM,kBACNmI,iBAAiB,EACjBvF,MAAOA,EACPwF,MAAO,SAASA,EAAOC,GACrB,MAAOR,GAAS1E,QAAQiF,IAE1BE,OAAQ,WACN,MAAOT,GAASH,OAAO,kBAG3BK,GACEQ,YAAa,uBACbC,SAAS,EACTC,SAAU,MACVb,OAAQA,GAEVE,EAAQY,KAAKX,GACNF,EAASc,YAKtBpL,EAAO2J,QAAQ,iBAAkB,SAASrJ,EAAI+K,EAAcC,GAC1D,GAAIC,GAAaC,CA2BjB,OA1BAD,GAAc,SAASzH,GACrB,GAAI2H,GAAUnE,CAUd,OATAA,GAAO,KACPmE,KACAnE,EAAOxD,EAAOoD,kBAAkBC,KAAKI,cACrCC,OAAOC,oBAAoBH,GAAMI,QAAQ,SAASC,GAChD,GAAwB,aAApBL,EAAKK,GAAM3F,KAEb,MADAsF,GAAKK,GAAMtD,GAAKsD,EACT8D,EAAWnE,EAAKK,KAGpB8D,GAETD,EAAe,SAAS1H,GACtB,GAAIwD,GAAMoE,CAUV,OATApE,GAAO,KACPoE,KACApE,EAAOxD,EAAOoD,kBAAkBC,KAAKI,cACrCC,OAAOC,oBAAoBH,GAAMI,QAAQ,SAASC,GAChD,GAAwB,aAApBL,EAAKK,GAAM3F,KAEb,MADAsF,GAAKK,GAAMtD,GAAKsD,EACT+D,EAAQzI,KAAKqE,EAAKK,MAGtB+D,IAGPtD,KAAM,SAASD,EAAarE,EAAQuG,GAClC,GAAIoB,GAAUE,EAAiBC,EAAUF,CA0BzC,OAzBAD,GAAWF,EAAYzH,GACvB4H,EAAUF,EAAa1H,GACvB8H,EAAWF,EAAQrJ,IAAI,SAASwJ,GAC9B,MAAOR,GAAa/F,MAClBtD,KAAM,WACNqI,OAAQwB,EAAOzE,MACf0E,UAAWhI,EAAOO,GAClB0H,UAAW,KACXnH,OAAQ,UACRF,gBAAiBmH,EAAOxH,GACxB2H,uBAAwBP,EAASpH,GACjC4H,OAAQ,aAGZN,EAAkBN,EAAa/F,MAC7BtD,KAAM,WACNqI,OAAQoB,EAASrE,MACjB0E,UAAWhI,EAAOO,GAClB0H,UAAW,KACXnH,OAAQ,UACRF,gBAAiB+G,EAASpH,GAC1B2H,uBAAwBP,EAASpH,GACjC4H,OAAQ,WAEVL,EAAS3I,KAAK0I,GACPrL,EAAG4L,IAAIN,GAAU/H,KAAK,SAASsI,GACpC,MAAOb,GAAShG,MACd+E,OAAQvG,EAAOoD,kBAAkBC,KAAKC,MACtC1C,gBAAiB+G,EAASpH,GAC1B+H,qBAAsBjE,EAAY9D,GAClCgI,gBAAiBF,EAAa9J,IAAI,SAASiK,GACzC,MAAOA,GAAYjI,cAQ9BpE,KAAKC,MAER,WACE,GAAIF,EAEJA,GAASD,QAAQC,OAAO,kCAExBA,EAAOuM,SAAS,SACdC,QACE9J,MAAO,EACPD,KAAM,SACNe,cAAc,GAEhBiJ,OACE/J,MAAO,EACPD,KAAM,QACNe,cAAc,GAEhBkJ,SACEhK,MAAO,EACPD,KAAM,UACNe,cAAc,GAEhBmJ,UACEjK,MAAO,EACPD,KAAM,qBACNe,cAAc,GAEhBoJ,WACElK,MAAO,EACPD,KAAM,sBAERoK,SACEnK,MAAO,EACPD,KAAM,WAERqK,YACEpK,MAAO,EACPD,KAAM,cAERsK,iBACErK,MAAO,EACPD,KAAM,oBACNe,cAAc,GAEhBwJ,qBACEtK,MAAO,EACPD,KAAM,wBACNe,cAAc,GAEhByJ,2BACEvK,MAAO,GACPD,KAAM,8BACNe,cAAc,GAEhB0J,QACExK,MAAO,GACPD,KAAM,SACNe,cAAc,MAIjBvD,KAAKC,MAERH,QAAQC,OAAO,mCAAoC,8CAA+C,6CAA8C,oDAAqD,4CAA6C,qDAAsD,kDAAmD,8CAE3VD,QAAQC,OAAO,kDAAmDmN,KAAK,iBAAkB,SAAUC,GACjGA,EAAeC,IAAI,8CACjB,0vBAsBJtN,QAAQC,OAAO,iDAAkDmN,KAAK,iBAAkB,SAAUC,GAChGA,EAAeC,IAAI,6CACjB,6SAQJtN,QAAQC,OAAO,wDAAyDmN,KAAK,iBAAkB,SAAUC,GACvGA,EAAeC,IAAI,oDACjB,u1CA4CJtN,QAAQC,OAAO,gDAAiDmN,KAAK,iBAAkB,SAAUC,GAC/FA,EAAeC,IAAI,4CACjB,05DAgDJtN,QAAQC,OAAO,yDAA0DmN,KAAK,iBAAkB,SAAUC,GACxGA,EAAeC,IAAI,qDACjB,+gdA8TJtN,QAAQC,OAAO,sDAAuDmN,KAAK,iBAAkB,SAAUC,GACrGA,EAAeC,IAAI,kDACjB,m3CAyCJtN,QAAQC,OAAO,gDAAiDmN,KAAK,iBAAkB,SAAUC,GAC/FA,EAAeC,IAAI,4CACjB","file":"sportily.registration.min.js"}