{"version":3,"sources":["sportily.registration.all.js"],"names":["angular","module","call","this","NO_VALID_ROLES_MESSAGE","controller","$scope","$q","Form","AgeGroups","Competitions","Members","People","Roles","Seasons","Teams","Types","Users","fetchAgeGroups","fetchCompetitions","fetchMember","fetchSeasons","fetchTeams","roleIsValid","saveMember","savePerson","saveRoles","saveUser","verifyRoles","user","person","marketing_opt_in","roles","type","complete","types","typeOptions","_","map","value","key","label","name","index","sortBy","state","agreement","dateOfBirth","selectedSeason","addRole","push","removeRole","toBeRemoved","filter","role","rule","competition_id","requiresTeam","team_id","some","save","saving","isValid","then","member","season","error","find","seasons","_this","s","id","confirmationMessage","replace","showErrors","getList","organisation_id","organisationId","status","one","member_id","get","season_id","include","competitions","ageGroups","teams","email","post","when","user_id","person_id","reduce","p","resolve","$watch","dob","input","output","Date","moment","date_of_birth","format","form","$setValidity","directive","restrict","templateUrl","scope","agreementMessage","adminUrl","paid","StripeService","Organisations","PaymentService","Restangular","arePaymentsPossible","getNationalId","getTotal","financial_summary","owed","total","nationalId","orgs","organisations","Object","getOwnPropertyNames","forEach","prop","paymentsConfigured","nationalOrganisation","stripe_user_id","message","template","pay","getSession","session","take","amount","redirectToPayment","team","data","currencyFilter","String","prototype","ucfirst","charAt","toUpperCase","slice","require","model","link","element","attrs","ngModel","each","$error","startsWith","transclude","ctrl","displayLabel","factory","$window","response","scrollTo","error_description","validation_messages","errors","$valid","reject","StripePublishableKey","SportilyApi","description","organisation","all","customGET","source","stripeAccountId","sessionId","stripe","Stripe","stripeAccount","redirectToCheckout","Transactions","Payments","getNational","getRegionals","national","regions","stripeSessionId","nationalPromise","promises","region","source_id","target_id","target_organisation_id","method","transactions","stripe_payment_token","transaction_ids","transaction","constant","player","coach","manager","official","committee","referee","timekeeper","player_training","player_recreational","player_cross_registration","parent","run","$templateCache","put"],"mappings":"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","file":"sportily.registration.min.js"}