{"version":3,"sources":["sportily.registration.all.js"],"names":["angular","module","call","this","NO_VALID_ROLES_MESSAGE","controller","$scope","$q","Form","AgeGroups","Competitions","Members","People","Roles","Teams","Types","Users","fetchAgeGroups","fetchCompetitions","fetchMember","fetchTeams","roleIsValid","saveMember","savePerson","saveRoles","saveUser","verifyRoles","user","person","marketing_opt_in","member","season_id","seasonId","roles","type","complete","types","typeOptions","_","map","value","key","label","name","index","sortBy","state","agreement","dateOfBirth","addRole","push","removeRole","toBeRemoved","filter","role","rule","competition_id","requiresTeam","team_id","some","save","isValid","then","error","showErrors","one","member_id","get","include","getList","competitions","ageGroups","teams","email","post","when","id","user_id","person_id","rolePromises","forEach","all","$watch","dob","input","output","Date","moment","date_of_birth","format","form","$setValidity","directive","restrict","templateUrl","scope","registrationId","agreementMessage","confirmationMessage","StripeService","Organisations","PaymentService","arePaymentsPossible","getNationalId","getTotal","financial_summary","owed","total","nationalId","orgs","organisations","Object","getOwnPropertyNames","prop","paymentsConfigured","nationalOrganisation","stripe_user_id","message","template","pay","getOneTimeToken","stripeToken","take","payment","status","team","data","organisation_id","currencyFilter","String","prototype","ucfirst","charAt","toUpperCase","slice","require","model","link","element","attrs","ngModel","each","$error","startsWith","transclude","ctrl","displayLabel","replace","factory","$window","response","scrollTo","error_description","validation_messages","errors","$valid","reject","StripePublishableKey","amount","deferred","handler","options","defer","StripeCheckout","configure","allowRememberMe","token","args","resolve","closed","description","zipCode","currency","open","promise","Transactions","Payments","getNational","getRegionals","national","regions","nationalPromise","promises","region","source_id","target_id","paid_to_organisation_id","method","transactions","stripe_payment_token","transaction_ids","transaction","constant","player","coach","manager","official","committee","referee","timekeeper","player_training","player_recreational","player_cross_registration","parent","run","$templateCache","put"],"mappings":"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","file":"sportily.registration.min.js"}