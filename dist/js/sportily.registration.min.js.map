{"version":3,"sources":["sportily.registration.all.js"],"names":["angular","module","call","this","NO_VALID_ROLES_MESSAGE","controller","$scope","$q","Form","AgeGroups","Organisations","Members","People","Roles","Seasons","Teams","Types","Users","fetchAgeGroups","fetchMember","fetchOrganisation","fetchSeasons","fetchTeams","roleIsValid","saveMember","savePerson","saveRoles","saveUser","verifyRoles","user","person","marketing_opt_in","roles","type","complete","types","typeOptions","_","map","value","key","label","name","index","sortBy","state","agreement","dateOfBirth","selectedSeason","selectedRegionId","selectedAgeGroupId","addRole","push","removeRole","toBeRemoved","filter","role","rule","requiresTeam","team_id","some","save","saving","isValid","then","member","season","error","find","seasons","_this","s","id","confirmationMessage","replace","window","parent","postMessage","scrollTo","showErrors","getList","organisation_id","organisationId","status","one","member_id","get","include","organisation","regions","data","r","unshift","length","season_id","ageGroups","age_group_id","teams","t","competitions","email","post","when","user_id","person_id","reduce","p","resolve","$watch","dob","input","output","Date","moment","date_of_birth","format","form","$setValidity","directive","restrict","templateUrl","scope","agreementMessage","adminUrl","paid","StripeService","PaymentService","Restangular","arePaymentsPossible","getNationalId","getTotal","financial_summary","owed","total","nationalId","orgs","organisations","Object","getOwnPropertyNames","forEach","prop","paymentsConfigured","nationalOrganisation","stripe_user_id","message","template","pay","getSession","session","take","amount","redirectToPayment","team","currencyFilter","String","prototype","ucfirst","charAt","toUpperCase","slice","require","model","link","element","attrs","ngModel","each","$error","startsWith","transclude","ctrl","displayLabel","factory","$window","response","error_description","validation_messages","errors","$valid","reject","StripePublishableKey","SportilyApi","description","all","customGET","source","stripeAccountId","sessionId","stripe","Stripe","stripeAccount","redirectToCheckout","Transactions","Payments","getNational","getRegionals","national","stripeSessionId","nationalPromise","promises","region","source_id","target_id","target_organisation_id","method","transactions","stripe_payment_token","transaction_ids","transaction","constant","player","coach","manager","official","committee","referee","timekeeper","player_training","player_recreational","player_cross_registration","run","$templateCache","put"],"mappings":"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","file":"sportily.registration.min.js"}