{"version":3,"sources":["sportily.registration.all.js"],"names":["angular","module","call","this","NO_VALID_ROLES_MESSAGE","controller","$scope","$q","Form","AgeGroups","Competitions","Members","People","Roles","Seasons","Teams","Types","Users","fetchAgeGroups","fetchCompetitions","fetchMember","fetchSeasons","fetchTeams","roleIsValid","saveMember","savePerson","saveRoles","saveUser","verifyRoles","user","person","marketing_opt_in","roles","type","complete","types","typeOptions","_","map","value","key","label","name","index","sortBy","state","agreement","dateOfBirth","selectedSeason","addRole","push","removeRole","toBeRemoved","filter","role","rule","competition_id","requiresTeam","team_id","some","save","isValid","then","member","season","error","find","seasons","_this","s","id","confirmationMessage","replace","showErrors","getList","organisation_id","organisationId","status","one","member_id","get","season_id","include","competitions","ageGroups","teams","email","post","when","user_id","person_id","reduce","p","resolve","$watch","dob","input","output","Date","moment","date_of_birth","format","form","$setValidity","directive","restrict","templateUrl","scope","agreementMessage","adminUrl","paid","StripeService","Organisations","PaymentService","Restangular","arePaymentsPossible","getNationalId","getTotal","financial_summary","owed","total","nationalId","orgs","organisations","Object","getOwnPropertyNames","forEach","prop","paymentsConfigured","nationalOrganisation","stripe_user_id","message","template","pay","getSession","session","take","amount","redirectToPayment","team","data","currencyFilter","String","prototype","ucfirst","charAt","toUpperCase","slice","require","model","link","element","attrs","ngModel","each","$error","startsWith","transclude","ctrl","displayLabel","factory","$window","response","scrollTo","error_description","validation_messages","errors","$valid","reject","StripePublishableKey","SportilyApi","description","organisation","all","customGET","source","stripeAccountId","sessionId","stripe","Stripe","stripeAccount","redirectToCheckout","Transactions","Payments","getNational","getRegionals","national","regions","stripeSessionId","nationalPromise","promises","region","source_id","target_id","target_organisation_id","method","transactions","stripe_payment_token","transaction_ids","transaction","constant","player","coach","manager","official","committee","referee","timekeeper","player_training","player_recreational","player_cross_registration","parent","run","$templateCache","put"],"mappings":"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","file":"sportily.registration.min.js"}