{"version":3,"sources":["sportily.registration.all.js"],"names":["angular","module","call","this","NO_VALID_ROLES_MESSAGE","controller","$scope","$q","Form","AgeGroups","Competitions","Members","People","Roles","Seasons","Teams","Types","Users","fetchAgeGroups","fetchCompetitions","fetchMember","fetchSeasons","fetchTeams","roleIsValid","saveMember","savePerson","saveRoles","saveUser","verifyRoles","user","person","marketing_opt_in","roles","type","complete","types","typeOptions","_","map","value","key","label","name","index","sortBy","state","agreement","dateOfBirth","selectedSeason","addRole","push","removeRole","toBeRemoved","filter","role","rule","competition_id","requiresTeam","team_id","some","save","isValid","then","member","season","error","find","seasons","_this","s","id","agreementMessage","replace","showErrors","getList","organisation_id","organisationId","status","one","member_id","get","season_id","include","competitions","ageGroups","teams","email","post","when","user_id","person_id","rolePromises","forEach","all","$watch","dob","input","output","Date","moment","date_of_birth","format","form","$setValidity","directive","restrict","templateUrl","scope","confirmationMessage","StripeService","Organisations","PaymentService","arePaymentsPossible","getNationalId","getTotal","financial_summary","owed","total","nationalId","orgs","organisations","Object","getOwnPropertyNames","prop","paymentsConfigured","nationalOrganisation","stripe_user_id","message","template","pay","getOneTimeToken","stripeToken","take","payment","team","data","currencyFilter","String","prototype","ucfirst","charAt","toUpperCase","slice","require","model","link","element","attrs","ngModel","each","$error","startsWith","transclude","ctrl","displayLabel","factory","$window","response","scrollTo","error_description","validation_messages","errors","$valid","reject","StripePublishableKey","amount","deferred","handler","options","defer","StripeCheckout","configure","allowRememberMe","token","args","resolve","closed","description","zipCode","currency","open","promise","Transactions","Payments","getNational","getRegionals","national","regions","nationalPromise","promises","region","source_id","target_id","target_organisation_id","method","transactions","stripe_payment_token","transaction_ids","transaction","constant","player","coach","manager","official","committee","referee","timekeeper","player_training","player_recreational","player_cross_registration","parent","run","$templateCache","put"],"mappings":"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","file":"sportily.registration.min.js"}