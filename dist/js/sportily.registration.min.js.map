{"version":3,"sources":["sportily.registration.all.js"],"names":["angular","module","call","this","NO_VALID_ROLES_MESSAGE","controller","$scope","$q","Form","AgeGroups","Competitions","Members","People","Roles","Teams","Types","Users","fetchAgeGroups","fetchCompetitions","fetchMember","fetchTeams","roleIsValid","saveMember","savePerson","saveRoles","saveUser","verifyRoles","user","person","member","season_id","seasonId","roles","type","complete","types","typeOptions","_","map","value","key","label","name","index","sortBy","state","agreement","dateOfBirth","addRole","push","removeRole","toBeRemoved","filter","role","rule","competition_id","requiresTeam","team_id","some","save","isValid","then","error","showErrors","one","member_id","get","include","getList","competitions","ageGroups","teams","email","post","when","id","user_id","person_id","rolePromises","forEach","all","$watch","dob","input","output","Date","moment","date_of_birth","format","form","$setValidity","directive","restrict","templateUrl","scope","registrationId","agreementMessage","confirmationMessage","StripeService","Organisations","PaymentService","arePaymentsPossible","getNationalId","getTotal","financial_summary","owed","total","nationalId","orgs","organisations","Object","getOwnPropertyNames","prop","paymentsConfigured","nationalOrganisation","stripe_user_id","message","template","pay","getOneTimeToken","stripeToken","take","payment","status","team","data","organisation_id","currencyFilter","String","prototype","ucfirst","charAt","toUpperCase","slice","require","model","link","element","attrs","ngModel","each","$error","startsWith","transclude","ctrl","displayLabel","replace","factory","$window","response","scrollTo","error_description","validation_messages","errors","$valid","reject","StripePublishableKey","amount","deferred","handler","options","defer","StripeCheckout","configure","allowRememberMe","token","args","resolve","closed","description","zipCode","currency","open","promise","Transactions","Payments","getNational","getRegionals","national","regions","nationalPromise","promises","region","source_id","target_id","paid_to_organisation_id","method","transactions","stripe_payment_token","transaction_ids","transaction","constant","player","coach","manager","official","committee","referee","timekeeper","player_training","player_recreational","player_cross_registration","parent","run","$templateCache","put"],"mappings":"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","file":"sportily.registration.min.js"}